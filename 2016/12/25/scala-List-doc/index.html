<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Scala 的 List API | 王乐心的博客</title>
  
  
  <meta name="description" content="List 可以说是老熟人了，和其他集合类型的 API 相似，专门抽点时间把 API 都看了，在这里记录下。

1、概览scala.collection.immutable.List，不可变集合，内部用 last-in-first-out 的栈模式实现。性能上，在前缀和 head/tail 操作时是 ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Scala 的 List API"/>
  <meta property="og:site_name" content="王乐心的博客"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="王乐心的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">王乐心的博客</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-25T08:22:08.000Z"><a href="/2016/12/25/scala-List-doc/">2016-12-25</a></time>
      
      
  
    <h1 class="title">Scala 的 List API</h1>
  

    </header>
    <div class="entry">
      
        <blockquote>
<p>List 可以说是老熟人了，和其他集合类型的 API 相似，专门抽点时间把 API 都看了，在这里记录下。</p>
</blockquote>
<h3 id="1、概览"><a href="#1、概览" class="headerlink" title="1、概览"></a>1、概览</h3><p>scala.collection.immutable.List，不可变集合，内部用 last-in-first-out 的栈模式实现。性能上，在前缀和 head/tail 操作时是 O(1)，其他大多数的操作都是 O(n)。<br>定义：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span>[+<span class="type">A</span>] <span class="keyword">extends</span> <span class="title">AbstractSeq</span>[<span class="type">A</span>] <span class="keyword">with</span> <span class="title">LinearSeq</span>[<span class="type">A</span>] <span class="keyword">with</span> <span class="title">Product</span> <span class="keyword">with</span> <span class="title">GenericTraversableTemplate</span>[<span class="type">A</span>, <span class="type">List</span>] <span class="keyword">with</span> <span class="title">LinearSeqOptimized</span>[<span class="type">A</span>, <span class="type">List</span>[<span class="type">A</span>]] <span class="keyword">with</span> <span class="title">Serializable</span></span></div></pre></td></tr></table></figure>
<p>已知的子类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">::</div><div class="line">Nil</div></pre></td></tr></table></figure>
<h3 id="2、新增元素的操作"><a href="#2、新增元素的操作" class="headerlink" title="2、新增元素的操作"></a>2、新增元素的操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">++</span></span>[<span class="type">B</span>](that: <span class="type">GenTraversableOnce</span>[<span class="type">B</span>]): <span class="type">List</span>[<span class="type">B</span>]</div><div class="line"><span class="comment">// 1、返回新的 list，包含两个对象的所有元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) ++ <span class="type">List</span>(<span class="number">8</span>,<span class="number">9</span>)</div><div class="line">res283: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">9</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">++</span></span>:[<span class="type">B</span> &gt;: <span class="type">A</span>, <span class="type">That</span>](that: collection.<span class="type">Traversable</span>[<span class="type">B</span>])(<span class="keyword">implicit</span> bf: <span class="type">CanBuildFrom</span>[<span class="type">List</span>[<span class="type">A</span>], <span class="type">B</span>, <span class="type">That</span>]): <span class="type">That</span></div><div class="line"><span class="comment">// 2、和 ++ 一样，返回两个对象的所有元素，但右边的对象决定了返回结果的类型</span></div><div class="line"><span class="comment">// 隐式转换的作用???</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>) ++: <span class="type">Vector</span>(<span class="number">2</span>)</div><div class="line">res291: scala.collection.immutable.<span class="type">Vector</span>[<span class="type">Int</span>] = <span class="type">Vector</span>(<span class="number">1</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">++</span></span>:[<span class="type">B</span> &gt;: <span class="type">A</span>, <span class="type">That</span>](that: collection.<span class="type">Traversable</span>[<span class="type">B</span>]): <span class="type">List</span>[<span class="type">B</span>]</div><div class="line"><span class="comment">// 3、和上面的一样，但少了个隐式转换</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">+</span></span>:(elem: <span class="type">A</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 4、返回新的 list，并在前面加上新增的元素。注意，其实带冒号的操作符都是偏向右边的</span></div><div class="line"></div><div class="line">scala&gt; <span class="number">2</span> +: <span class="type">List</span>(<span class="number">1</span>)</div><div class="line">res292: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">1</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> </span>:+(elem: <span class="type">A</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 5、在 list 末尾增加一个元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">3</span>) :+ <span class="number">4</span></div><div class="line">res296: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">3</span>, <span class="number">4</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> </span>::(x: <span class="type">A</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 6、在 list 前面增加一个元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="number">3</span> :: <span class="type">List</span>(<span class="number">0</span>)</div><div class="line">res297: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">3</span>, <span class="number">0</span>)</div><div class="line">scala&gt; <span class="number">3</span> :: <span class="number">2</span> :: <span class="type">Nil</span></div><div class="line">res298: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">3</span>, <span class="number">2</span>)</div><div class="line"><span class="comment">// 3 :: List(0) == List(0).::(3) == List(3, 0) // 中缀表达式</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> </span>:::(prefix: <span class="type">List</span>[<span class="type">A</span>]): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 7、把参数列表放到当前列表前面</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>) ::: <span class="type">List</span>(<span class="number">9</span>,<span class="number">3</span>)</div><div class="line">res300: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">3</span>)</div><div class="line"><span class="comment">// List(1,2) ::: List(9,3) == List(9,3).:::(List(1,2)) == List(1,2,9,3) // 中缀表达式</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">aggregate</span></span>[<span class="type">B</span>](z: =&gt; <span class="type">B</span>)(seqop: (<span class="type">B</span>, <span class="type">A</span>) =&gt; <span class="type">B</span>, combop:(<span class="type">B</span>, <span class="type">B</span>) =&gt; <span class="type">B</span>): <span class="type">B</span></div><div class="line"><span class="comment">// 8、This is a difficult function... 举个🌰吧，不想解释</span></div><div class="line">scala&gt; <span class="type">List</span>(<span class="string">"this"</span>, <span class="string">"is"</span>, <span class="string">"an"</span>, <span class="string">"example"</span>).aggregate(<span class="number">0</span>)(_ + _.length, _ + _)</div><div class="line">res308: <span class="type">Int</span> = <span class="number">15</span></div></pre></td></tr></table></figure>
<h3 id="3、函数式操作"><a href="#3、函数式操作" class="headerlink" title="3、函数式操作"></a>3、函数式操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">/</span></span>:[<span class="type">B</span>](z: <span class="type">B</span>)(op: (<span class="type">B</span>, <span class="type">A</span>) =&gt; <span class="type">B</span>): <span class="type">B</span></div><div class="line"><span class="comment">// 1、在 list 和初始值 B 的基础上，对所有成员从左到右应用一个二元操作。是 foldLeft 的备用语法，z /: xs 和 xs foldLeft z 是一个意思。</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>)./:(<span class="number">0</span>)(_+_)</div><div class="line">res293: <span class="type">Int</span> = <span class="number">11</span></div><div class="line"></div><div class="line">scala&gt; (<span class="number">0</span> /: <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>))(_+_)</div><div class="line">res294: <span class="type">Int</span> = <span class="number">11</span> <span class="comment">// 冒号操作是偏向右边的</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> </span>:\[<span class="type">B</span>](z: <span class="type">B</span>)(op: (<span class="type">A</span>, <span class="type">B</span>) =&gt; <span class="type">B</span>): <span class="type">B</span></div><div class="line"><span class="comment">// 2、在 list 和初始值 B 的基础上，对所有成员从右向左应用一个二元操作。是 foldRight 的备用语法，xs :\ z 和 xs foldRight z 是一个意思。</span></div><div class="line"></div><div class="line">scala&gt; (<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>) :\ <span class="number">1</span>)(_*_)</div><div class="line">res301: <span class="type">Int</span> = <span class="number">42</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="function"><span class="keyword">def</span> <span class="title">collect</span></span>[<span class="type">B</span>](pf: <span class="type">PartialFunction</span>[<span class="type">A</span>, <span class="type">B</span>]): <span class="type">List</span>[<span class="type">B</span>]</div><div class="line"><span class="comment">// 3、把偏函数作用于 list，返回新的列表</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">2</span>,<span class="number">4</span>,<span class="string">"5"</span>,<span class="type">Some</span>(<span class="number">3</span>)).collect&#123;<span class="keyword">case</span> x:<span class="type">Int</span> =&gt; <span class="string">s"<span class="subst">$x</span>"</span>&#125;</div><div class="line">res341: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="number">2</span>, <span class="number">4</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">collectFirst</span></span>[<span class="type">B</span>](pf: <span class="type">PartialFunction</span>[<span class="type">A</span>, <span class="type">B</span>]): <span class="type">Option</span>[<span class="type">B</span>]</div><div class="line"><span class="comment">// 4、把偏函数应用于列表的每个元素，直到找到第一个为止。对无限大集合使用可能会一直搜查下去。注意返回类似和上面的不一样。</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">2</span>,<span class="number">4</span>,<span class="string">"5"</span>).collectFirst&#123;<span class="keyword">case</span> x:<span class="type">Int</span> <span class="keyword">if</span> x &gt; <span class="number">2</span> =&gt; <span class="string">s"<span class="subst">$x</span>"</span>&#125;</div><div class="line">res343: <span class="type">Option</span>[<span class="type">String</span>] = <span class="type">Some</span>(<span class="number">4</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">filter</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">filterNot</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 5、返回满足/不满足谓词的元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>).filter(_ * <span class="number">3</span> &gt; <span class="number">10</span>)</div><div class="line">res360: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>, <span class="number">9</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="function"><span class="keyword">def</span> <span class="title">flatMap</span></span>[<span class="type">B</span>](f: (<span class="type">A</span>) =&gt; <span class="type">GenTraversableOnce</span>[<span class="type">B</span>]): <span class="type">List</span>[<span class="type">B</span>]</div><div class="line"><span class="comment">// 6、对每个元素执行函数，然后再铺平</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="string">"hello"</span>, <span class="string">"world"</span>).flatMap(w =&gt; w.toSet)</div><div class="line">res367: <span class="type">List</span>[<span class="type">Char</span>] = <span class="type">List</span>(h, e, l, o, l, r, w, o, d)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatten</span></span>[<span class="type">B</span>]: <span class="type">List</span>[<span class="type">B</span>]</div><div class="line"><span class="comment">// 7、将 list 中的元素铺平。</span></div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> xs = <span class="type">List</span>(<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>), <span class="type">Set</span>(<span class="number">2</span>,<span class="number">3</span>)).flatten</div><div class="line">xs: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fold</span></span>[<span class="type">A1</span> &gt;: <span class="type">A</span>](z: <span class="type">A1</span>)(op: (<span class="type">A1</span>, <span class="type">A1</span>) =&gt; <span class="type">A1</span>): <span class="type">A1</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldLeft</span></span>[<span class="type">B</span>](z: <span class="type">B</span>)(op: (<span class="type">B</span>, <span class="type">A</span>) =&gt; <span class="type">B</span>): <span class="type">B</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldRight</span></span>[<span class="type">B</span>](z: <span class="type">B</span>)(op: (<span class="type">B</span>, <span class="type">A</span>) =&gt; <span class="type">B</span>): <span class="type">B</span></div><div class="line"><span class="comment">// 8、在初始值上，对 list 元素做折叠操作</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>).fold(<span class="number">3</span>)(_+_)</div><div class="line">res371: <span class="type">Int</span> = <span class="number">14</span></div></pre></td></tr></table></figure>
<h3 id="4、转化成字符串"><a href="#4、转化成字符串" class="headerlink" title="4、转化成字符串"></a>4、转化成字符串</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1</span>)<span class="function"><span class="keyword">def</span> <span class="title">addString</span></span>(b: <span class="type">StringBuilder</span>): <span class="type">StringBuilder</span></div><div class="line">(<span class="number">2</span>)<span class="function"><span class="keyword">def</span> <span class="title">addString</span></span>(b: <span class="type">StringBuilder</span>, sep: <span class="type">String</span>): <span class="type">StringBuilder</span></div><div class="line">(<span class="number">3</span>)<span class="function"><span class="keyword">def</span> <span class="title">addString</span></span>(b: <span class="type">StringBuilder</span>, start: <span class="type">String</span>, sep: <span class="type">String</span>, end: <span class="type">String</span>): <span class="type">StringBuilder</span></div><div class="line"><span class="comment">// 1-1、把列表所有的元素追加到 StringBuilder 后面，添加时会对每个元素应用 toString 方法。</span></div><div class="line"><span class="comment">// 1-2、sep 是每个元素添加到 StringBuilder 的分隔符</span></div><div class="line"><span class="comment">// 1-3、start 和 end 会分别添加到生成的字符串的前后。</span></div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> b = <span class="keyword">new</span> <span class="type">StringBuilder</span>(<span class="string">"K"</span>)</div><div class="line">b: <span class="type">StringBuilder</span> = <span class="type">K</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).addString(b,<span class="string">"s"</span>,<span class="string">","</span>,<span class="string">"e"</span>)</div><div class="line">res305: <span class="type">StringBuilder</span> = <span class="type">Ks1</span>,<span class="number">2</span>,<span class="number">3</span>e</div></pre></td></tr></table></figure>
<h3 id="5、查询、取值操作"><a href="#5、查询、取值操作" class="headerlink" title="5、查询、取值操作"></a>5、查询、取值操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(n: <span class="type">Int</span>): <span class="type">A</span></div><div class="line"><span class="comment">// 1、返回下标为 n 的元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">9</span>,<span class="number">3</span>).apply(<span class="number">2</span>)</div><div class="line">res315: <span class="type">Int</span> = <span class="number">3</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">applyOrElse</span></span>[<span class="type">A1</span> &lt;: <span class="type">Int</span>, <span class="type">B1</span> &gt;: <span class="type">A</span>](x: <span class="type">A1</span>, <span class="keyword">default</span>: (<span class="type">A1</span>) =&gt; <span class="type">B1</span>): <span class="type">B1</span></div><div class="line"><span class="comment">// 2、在 list 里查找 A1，找不到就返回执行函数 default 的结果</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">9</span>,<span class="number">3</span>).applyOrElse(<span class="number">5</span>, (_:<span class="type">Int</span>) =&gt; <span class="number">-1</span>)</div><div class="line">res325: <span class="type">Int</span> = <span class="number">-1</span></div><div class="line"><span class="comment">// pf.applyOrElse(x, default) == if (pf isDefinedAt x) pf(x) else default(x)</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1</span>)<span class="function"><span class="keyword">def</span> <span class="title">copyToArray</span></span>(xs: <span class="type">Array</span>[<span class="type">A</span>], start: <span class="type">Int</span>, len: <span class="type">Int</span>): <span class="type">Unit</span></div><div class="line">(<span class="number">2</span>)<span class="function"><span class="keyword">def</span> <span class="title">copyToArray</span></span>(xs: <span class="type">Array</span>[<span class="type">A</span>]): <span class="type">Unit</span></div><div class="line">(<span class="number">3</span>)<span class="function"><span class="keyword">def</span> <span class="title">copyToArray</span></span>(xs: <span class="type">Array</span>[<span class="type">A</span>], start: <span class="type">Int</span>): <span class="type">Unit</span></div><div class="line">(<span class="number">4</span>)<span class="function"><span class="keyword">def</span> <span class="title">copyToBuffer</span></span>[<span class="type">B</span> &gt;: <span class="type">A</span>](dest: <span class="type">Buffer</span>[<span class="type">B</span>]): <span class="type">Unit</span></div><div class="line"><span class="comment">// 3、将 list 内容拷贝到数组中，len 最大拷贝长度，start 是拷贝的起始位置</span></div><div class="line"></div><div class="line">scala&gt; <span class="keyword">val</span> arr = <span class="type">Array</span>.fill[<span class="type">Int</span>](<span class="number">5</span>)(<span class="number">0</span>)</div><div class="line">arr: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>).copyTo</div><div class="line">copyToArray   copyToBuffer</div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>).copyToArray(arr, <span class="number">1</span>, <span class="number">2</span>)</div><div class="line"></div><div class="line">scala&gt; arr</div><div class="line">res349: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">0</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">Int</span></div><div class="line"><span class="comment">// 4、计算满足谓词的元素个数</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>).count(_ &gt; <span class="number">2</span>)</div><div class="line">res351: <span class="type">Int</span> = <span class="number">2</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">diff</span></span>(that: collection.<span class="type">Seq</span>[<span class="type">A</span>]): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 5、返回与 that 公共部分以外的元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).diff(<span class="type">List</span>(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</div><div class="line">res352: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">distinct</span></span>: <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 6、返回去重的 list，对无限大 list 将永远执行下去</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">drop</span></span>(n: <span class="type">Int</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 7、去掉前 n 个元素，剩余的返回</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).drop(<span class="number">9</span>)</div><div class="line">res353: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>()</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropRight</span></span>(n: <span class="type">Int</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 8、去掉末尾的 n 个元素，剩余的返回</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).dropRight(<span class="number">9</span>)</div><div class="line">res354: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>()</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropWhile</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">List</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 9、去掉前面满足谓词的元素，直到不满足停止，剩余的返回</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).dropWhile(_ &lt; <span class="number">3</span>)</div><div class="line">res355: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">3</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">Option</span>[<span class="type">A</span>]</div><div class="line"><span class="comment">// 10、存在的话，返回第一个满足谓词的元素</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">4</span>,<span class="number">2</span>).find(_ &gt; <span class="number">10</span>)</div><div class="line">res361: <span class="type">Option</span>[<span class="type">Int</span>] = <span class="type">None</span></div></pre></td></tr></table></figure>
<h3 id="检验、判断操作"><a href="#检验、判断操作" class="headerlink" title="检验、判断操作"></a>检验、判断操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">canEqual</span></span>(that: <span class="type">Any</span>): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 1、判断 list 和参数有没有可能是相等的</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">contains</span></span>[<span class="type">A1</span> &gt;: <span class="type">A</span>](elem: <span class="type">A1</span>): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 2、检测元素是不是在 list 里面</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>).containsSlice(<span class="type">Seq</span>(<span class="number">3</span>,<span class="number">5</span>))</div><div class="line">res347: <span class="type">Boolean</span> = <span class="literal">true</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="function"><span class="keyword">def</span> <span class="title">corresponds</span></span>[<span class="type">B</span>](that: <span class="type">GenSeq</span>[<span class="type">B</span>])(p: (<span class="type">A</span>, <span class="type">B</span>) =&gt; <span class="type">Boolean</span>): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 3、检测 list 和参数是否都满足 p 函数的应用，当且仅当 list 和 that 长度相同且都满足 p 参数返回 true。</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).corresponds(<span class="type">List</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>))(_ + _ == <span class="number">4</span>)</div><div class="line">res350: <span class="type">Boolean</span> = <span class="literal">true</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">endsWith</span></span>[<span class="type">B</span>](that: <span class="type">GenSeq</span>[<span class="type">B</span>]): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 4、检查是否以另一个序列结尾</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>).endsWith(<span class="type">List</span>(<span class="number">4</span>))</div><div class="line">res356: <span class="type">Boolean</span> = <span class="literal">true</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>).endsWith(<span class="type">Nil</span>)</div><div class="line">res357: <span class="type">Boolean</span> = <span class="literal">true</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">equals</span></span>(that: <span class="type">Any</span>): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 5、和任意对象比较判断是否相等</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">2</span>,<span class="number">3</span>).equals(<span class="type">List</span>(<span class="number">2</span>,<span class="number">3</span>))</div><div class="line">res358: <span class="type">Boolean</span> = <span class="literal">true</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">exists</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 6、判断是否至少有一个元素满足谓词</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>).exists(_ % <span class="number">2</span> == <span class="number">0</span>)</div><div class="line">res359: <span class="type">Boolean</span> = <span class="literal">true</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">forall</span></span>(p: (<span class="type">A</span>) =&gt; <span class="type">Boolean</span>): <span class="type">Boolean</span></div><div class="line"><span class="comment">// 7、判断 list 中所有元素都满足这个谓词</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>).forall(_ &gt; <span class="number">1</span>)</div><div class="line">res373: <span class="type">Boolean</span> = <span class="literal">false</span></div></pre></td></tr></table></figure>
<h3 id="、其他操作"><a href="#、其他操作" class="headerlink" title="、其他操作"></a>、其他操作</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">andThen</span></span>[<span class="type">C</span>](k: (<span class="type">A</span>) =&gt; <span class="type">C</span>): <span class="type">PartialFunction</span>[<span class="type">Int</span>, <span class="type">C</span>]</div><div class="line"><span class="comment">// 1、将这个偏函数和一个转换函数结合，再应用在偏函数的结果上???没明白，就不举例了。</span></div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">combinations</span></span>(n: <span class="type">Int</span>): <span class="type">Iterator</span>[<span class="type">List</span>[<span class="type">A</span>]]</div><div class="line"><span class="comment">// 2、对 list 按长度 n 进行分组，分组的结果里元素原有的顺序。</span></div><div class="line"></div><div class="line">scala&gt; <span class="type">List</span>(<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>).combinations(<span class="number">2</span>).foreach(println)</div><div class="line"><span class="type">List</span>(<span class="number">1</span>, <span class="number">4</span>)</div><div class="line"><span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>)</div><div class="line"><span class="type">List</span>(<span class="number">4</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="function"><span class="keyword">def</span> <span class="title">foreach</span></span>(f: (<span class="type">A</span>) =&gt; <span class="type">Unit</span>): <span class="type">Unit</span></div><div class="line"><span class="comment">// 3、对每个元素应用函数 f</span></div></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/Scala/">Scala</a>, <a href="/tags/List/">List</a>, <a href="/tags/API/">API</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Kommentare</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=123456789012345";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="http://yoursite.com/2016/12/25/scala-List-doc/index.html" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
</section>

</div></div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 王乐心的博客
  
  <p>Theme by <a href="https://caisiduo.xyz" target="_blank">LightOne</a></p>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
